"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[972],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return h}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),u=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return o.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=r,y=d["".concat(p,".").concat(h)]||d[h]||c[h]||a;return n?o.createElement(y,i(i({ref:t},l),{},{components:n})):o.createElement(y,i({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8381:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=["components"],s={},p="weird OAuth cases",u={unversionedId:"api/weird-cases",id:"api/weird-cases",title:"weird OAuth cases",description:"yes, this is how the OAuth flow works. sorry.",source:"@site/docs/api/weird-cases.md",sourceDirName:"api",slug:"/api/weird-cases",permalink:"/guide/api/weird-cases",editUrl:"https://github.com/d2api/d2api.github.io/tree/docs-src/docs/api/weird-cases.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"spec",permalink:"/guide/api/spec"},next:{title:"access token",permalink:"/guide/data-structures/access-token"}},l={},c=[{value:"yes, this is how the OAuth flow works. sorry.",id:"yes-this-is-how-the-oauth-flow-works-sorry",level:2},{value:"&quot;why do i need to set this up, i just want to use my own account to query the API&quot;",id:"why-do-i-need-to-set-this-up-i-just-want-to-use-my-own-account-to-query-the-api",level:3},{value:"&quot;but i&#39;m just developing! i don&#39;t have an SSL. i don&#39;t need an SSL.&quot;",id:"but-im-just-developing-i-dont-have-an-ssl-i-dont-need-an-ssl",level:3},{value:"&quot;but my app isn&#39;t a webpage! it lives on discord/it&#39;s an exe/it&#39;s an overlay.&quot;",id:"but-my-app-isnt-a-webpage-it-lives-on-discordits-an-exeits-an-overlay",level:3},{value:"if you&#39;re developing a local app that lives on a user&#39;s computer",id:"if-youre-developing-a-local-app-that-lives-on-a-users-computer",level:4},{value:"if you&#39;re developing a discord app",id:"if-youre-developing-a-discord-app",level:4}],d={toc:c};function h(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"weird-oauth-cases"},"weird OAuth cases"),(0,a.kt)("h2",{id:"yes-this-is-how-the-oauth-flow-works-sorry"},"yes, this is how the OAuth flow works. sorry."),(0,a.kt)("h3",{id:"why-do-i-need-to-set-this-up-i-just-want-to-use-my-own-account-to-query-the-api"},'"why do i need to set this up, i just want to use my own account to query the API"'),(0,a.kt)("p",null,"that's cool. fair."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"i set up a page here if you just want to generate a token",(0,a.kt)("br",{parentName:"li"}),(0,a.kt)("a",{parentName:"li",href:"https://paracausal.science/oauth/"},"https://paracausal.science/oauth/")),(0,a.kt)("li",{parentName:"ul"},"you could put a fake or localhost URL in at bungie.net, then when it forwards you to a failed URL, just grab the auth code out of the URL and perform the exchange yourself.")),(0,a.kt)("h3",{id:"but-im-just-developing-i-dont-have-an-ssl-i-dont-need-an-ssl"},"\"but i'm just developing! i don't have an SSL. i don't need an SSL.\""),(0,a.kt)("p",null,"the ",(0,a.kt)("strong",{parentName:"p"},"Redirect URL")," cannot be ",(0,a.kt)("inlineCode",{parentName:"p"},"http:"),". it's 2021, and ",(0,a.kt)("inlineCode",{parentName:"p"},"https:")," is how we do things. google ",(0,a.kt)("em",{parentName:"p"},"hates")," you if you don't use https. browsers warn people if you don't have https.",(0,a.kt)("br",{parentName:"p"}),"\n","for local dev, you can set up a self-signed local certificate. look up how to do so for your own dev server. it's healthy. most people can figure it out in less time than they spend complaining about this in discord."),(0,a.kt)("p",null,"or just put https in at bungie.net and then delete the S after logging in."),(0,a.kt)("p",null,"for production use, SSL certificates are free nowadays. get one set up."),(0,a.kt)("h3",{id:"but-my-app-isnt-a-webpage-it-lives-on-discordits-an-exeits-an-overlay"},"\"but my app isn't a webpage! it lives on discord/it's an exe/it's an overlay.\""),(0,a.kt)("p",null,"the ",(0,a.kt)("strong",{parentName:"p"},"Bungie.net authorization page")," does need to be involved. sorry.",(0,a.kt)("br",{parentName:"p"}),"\n","it's ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Bungie-net/api/wiki/OAuth-Documentation#signing-in-via-the-system-web-browser"},"well-justified"),", and it's OAuth standard."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"however"),(0,a.kt)("br",{parentName:"p"}),"\n","the ",(0,a.kt)("strong",{parentName:"p"},"Redirect URL")," does ",(0,a.kt)("strong",{parentName:"p"},"not")," have to be a webpage! so stop panicking.",(0,a.kt)("br",{parentName:"p"}),"\n",'"http" doesn\'t ',(0,a.kt)("strong",{parentName:"p"},"need")," do be anywhere in the Redirect URL  "),(0,a.kt)("h4",{id:"if-youre-developing-a-local-app-that-lives-on-a-users-computer"},"if you're developing a local app that lives on a user's computer"),(0,a.kt)("p",null,"you can build a native/local app that receives an authorization code from the redirect.",(0,a.kt)("br",{parentName:"p"}),"\n","you'll need to register a protocol handler (in ",(0,a.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/win32/search/-search-3x-wds-ph-install-registration"},"windows"),"/",(0,a.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app"},"iOS"),"/",(0,a.kt)("a",{parentName:"p",href:"https://developer.android.com/training/app-links"},"android"),"/???)"),(0,a.kt)("h4",{id:"if-youre-developing-a-discord-app"},"if you're developing a discord app"),(0,a.kt)("p",null,"congrats you've made this hard on yourself. you ",(0,a.kt)("strong",{parentName:"p"},"will")," need a site to accept the user's completed login flow, then send the results to your bot and let your bot hold onto the token.",(0,a.kt)("br",{parentName:"p"}),"\n","remember to warn users you're doing this in your privacy policy :)"))}h.isMDXComponent=!0}}]);